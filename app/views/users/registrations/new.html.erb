
<div class="w-3/5 flex flex-col mx-auto">
  <h1 class="min-w-full font-bold text-2xl block">NEW USER</h1>
  <% unless @user.errors.empty? %>
    <div class="border border-red-400 p-2 rounded round-4 bg-red-100 text-red-400">
      There are some errors:
      <ul>
        <% @user.errors.full_messages.each do |msg| %>
          <li class="block pl-2">* <%= msg %></li>
        <% end %>
    </div>
  <% end %>

  <%= form_with(model: @user,
                 data: {
                  url: registration_path(@user),
                  turbo: false
                 },
                 class: "min-w-full mt-2") do |f| %>

    <div class="field">
      <%= f.label :username, 'username:' %>
      <%= f.text_field :username, { placeholder: 'cosme_fulanito', class: 'min-w-full' } %>
    </div>

    <div class="field">
      <%= f.label :email, 'e-mail:' %>
      <%= f.email_field :email, { placeholder: 'example@mail.com', class: 'min-w-full' } %>
    </div>

    <div class="field">
      <%= f.label :password, 'password:' %>
      <% if @minimum_password_length %>
        <em>(<%= @minimum_password_length %> characters minimum)</em>
      <% end %>
      <%= f.password_field :password, {  autocomplete: "new-password", placeholder: '********', class: 'min-w-full' }  %>
    </div>

    <div class="field">
      <%= f.label :password_confirmation, 'confirm password' %>
      <%= f.password_field :password_confirmation, {  autocomplete: "new-password", placeholder: '********', class: 'min-w-full' }  %>
    </div>

    <div class="field">
      <%= f.submit 'Create user account', { class: 'border p-4'} %>
    </div>
  <% end %>

  <%#= link_to "Log in", new_session_path(@user) %>
  <%= render "users/shared/links" %>
</div>
