<turbo-frame id="new_post_form">
  <div class="min-w-full flex flex-col">
    <h1 class="min-w-full font-bold text-2xl block">new post for: <%= @clubhouse.title %></h1>
    <% unless @post.errors.empty? %>
      <div id = "notice" class="border border-red-400 p-2 rounded round-4 bg-red-100 text-red-400">
        There are some errors:
        <ul>
          <% @post.errors.full_messages.each do |msg| %>
            <li class="block pl-2">* <%= msg %></li>
          <% end %>
      </div>
    <% end %>

    <%= form_with(model: [@clubhouse, @post],
                  data: {
                    url: clubhouse_posts_path([@clubhouse, @post])
                  },
                  class: "min-w-full mt-2") do |f| %>

      <div class="field">
        <%= f.label :content, 'content:' %>
        <%= f.text_area :content, { class: 'min-w-full h-48 resize-y border rounded' } %>
      </div>

      <div class="field">
        <%= f.submit 'Create post', { class: 'border p-4'} %>
      </div>
    <% end %>

    <%= link_to "cancel", clubhouse_path(@clubhouse), { class: 'block link text-xl' } %>
  </div>
</turbo-frame>